{"version":3,"sources":["App.js","index.js"],"names":["App","useState","baseUrlSaved","setBaseUrlSaved","item","localStorage","getItem","err","console","log","baseUrl","setBaseUrl","selectedFile","setSelectedFile","resultPath","setResultPath","waiting","setWaiting","className","target","rel","href","type","value","placeholder","onChange","event","onClick","setItem","disabled","name","files","htmlFor","data","FormData","append","axios","post","then","res","path","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sOA0IeA,EAvIH,WAAO,IAAD,EACwBC,oBAAS,GADjC,mBACTC,EADS,KACKC,EADL,OAEcF,oBAAS,WACrC,IACE,IAAMG,EAAOC,aAAaC,QAAQ,WAElC,OADAH,GAAgB,GACTC,GAAc,GACrB,MAAOG,GAEP,OADAC,QAAQC,IAAIF,GACL,OATK,mBAETG,EAFS,KAEAC,EAFA,OAYwBV,mBAAS,MAZjC,mBAYTW,EAZS,KAYKC,EAZL,OAaoBZ,mBAAS,IAb7B,mBAaTa,EAbS,KAaGC,EAbH,OAccd,oBAAS,GAdvB,mBAcTe,EAdS,KAcAC,EAdA,KAiDhB,OACE,oCACE,yBAAKC,UAAU,8BACb,yBAAKA,UAAU,gBAAf,kBAEF,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,wDACb,yBAAKA,UAAU,YACZJ,EACC,yBAAKI,UAAU,2BACb,uBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAMP,GAChDA,IAIL,qCAEF,2BAAOI,UAAU,cAAjB,yDAGA,yBAAKA,UAAU,oBACb,2BACEI,KAAK,OACLJ,UAAU,eACVK,MAAOb,GAAoB,GAC3Bc,YAAY,6CACZC,SA3DU,SAACC,GACvBf,EAAWe,EAAMP,OAAOI,OACxBpB,GAAgB,MA2DN,4BACEe,UAAU,kBACVS,QA1DQ,WACpBtB,aAAauB,QAAQ,UAAWlB,GAChCP,GAAgB,IAyDJ0B,UAAUnB,GAHZ,SAQF,uBAAGQ,UAAU,sCAAb,oBACoBR,EAAU,SAD9B,KAC0C,IACvCR,EACC,0BAAMgB,UAAU,gBAAhB,SAEA,0BAAMA,UAAU,eAAhB,cAIHR,GAAWR,EACV,6BACE,yBAAKgB,UAAU,oBACXF,EAwBA,2CAvBA,oCACE,yBAAKE,UAAU,eACb,2BACEI,KAAK,OACLJ,UAAU,oBACVY,KAAK,OACLL,SA9EH,SAACC,GACpBb,EAAgBa,EAAMP,OAAOY,MAAM,OA+Ef,2BAAOb,UAAU,oBAAoBc,QAAQ,QAC1CpB,EAAeA,EAAakB,KAAO,gBAGxC,yBAAKZ,UAAU,sBACb,4BACEA,UAAU,kBACVW,UAAUjB,EACVe,QApFH,WACnBV,GAAW,GACX,IAAIgB,EAAO,IAAIC,SACfD,EAAKE,OAAO,OAAQvB,GACpBwB,IACGC,KADH,UACW3B,EADX,UAC4BuB,GACzBK,MAAK,SAACC,GACL/B,QAAQC,IAAI8B,GACZtB,GAAW,GACXF,EAAcL,EAAU6B,EAAIN,KAAKO,SAElCC,OAAM,SAAClC,GACNC,QAAQC,IAAIF,GACZU,GAAW,GACXF,EAAc,4CAElBF,EAAgB,QAiEI,cAeV,0C,YCzHd6B,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.dc2a4e8a.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [baseUrlSaved, setBaseUrlSaved] = useState(false);\n  const [baseUrl, setBaseUrl] = useState(() => {\n    try {\n      const item = localStorage.getItem('baseUrl');\n      setBaseUrlSaved(true);\n      return item ? item : '';\n    } catch (err) {\n      console.log(err);\n      return '';\n    }\n  });\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [resultPath, setResultPath] = useState('');\n  const [waiting, setWaiting] = useState(false);\n\n  const onBaseUrlChange = (event) => {\n    setBaseUrl(event.target.value);\n    setBaseUrlSaved(false);\n  };\n\n  const onBaseUrlSave = () => {\n    localStorage.setItem('baseUrl', baseUrl);\n    setBaseUrlSaved(true);\n  };\n\n  const onFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const onFileUpload = () => {\n    setWaiting(true);\n    let data = new FormData();\n    data.append('file', selectedFile);\n    axios\n      .post(`${baseUrl}/files`, data)\n      .then((res) => {\n        console.log(res);\n        setWaiting(false);\n        setResultPath(baseUrl + res.data.path);\n      })\n      .catch((err) => {\n        console.log(err);\n        setWaiting(false);\n        setResultPath('#there-was-an-error-pls-check-console');\n      });\n    setSelectedFile(null);\n  };\n\n  return (\n    <>\n      <nav className=\"navbar navbar-dark bg-dark\">\n        <div className=\"navbar-brand\"> file upload </div>\n      </nav>\n      <div className=\"container-fluid\">\n        <div className=\"row justify-content-start p-3 m-4 shadow-sm bg-white\">\n          <div className=\"col-md-8\">\n            {resultPath ? (\n              <div className=\"pb-2 mb-4 border-bottom\">\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href={resultPath}>\n                  {resultPath}\n                </a>\n              </div>\n            ) : (\n              <></>\n            )}\n            <small className=\"text-muted\">\n              use https://serene-hamlet-89138.herokuapp.com to test\n            </small>\n            <div className=\"input-group mb-2\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={baseUrl ? baseUrl : ''}\n                placeholder=\"Server Base URL? ex: http://localhost:3000\"\n                onChange={onBaseUrlChange}\n              />\n              <button\n                className=\"btn btn-success\"\n                onClick={onBaseUrlSave}\n                disabled={baseUrl ? false : true}\n              >\n                Save\n              </button>\n            </div>\n            <p className=\"text-muted pb-2 mb-2 border-bottom\">\n              Sending files to {baseUrl + '/files'} |{' '}\n              {baseUrlSaved ? (\n                <span className=\"text-success\">Saved</span>\n              ) : (\n                <span className=\"text-danger\">Not saved</span>\n              )}\n            </p>\n\n            {baseUrl && baseUrlSaved ? (\n              <div>\n                <div className=\"pt-3 input-group\">\n                  {!waiting ? (\n                    <>\n                      <div className=\"custom-file\">\n                        <input\n                          type=\"file\"\n                          className=\"custom-file-input\"\n                          name=\"file\"\n                          onChange={onFileChange}\n                        />\n                        <label className=\"custom-file-label\" htmlFor=\"file\">\n                          {selectedFile ? selectedFile.name : 'Choose File'}\n                        </label>\n                      </div>\n                      <div className=\"input-group-append\">\n                        <button\n                          className=\"btn btn-primary\"\n                          disabled={selectedFile ? false : true}\n                          onClick={onFileUpload}\n                        >\n                          Upload\n                        </button>\n                      </div>\n                    </>\n                  ) : (\n                    <p>Uploading...</p>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <></>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'jquery/dist/jquery';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}